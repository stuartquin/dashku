module.exports =
  name: "Number List"
  html: "<table class='list_box'></table>"
  css:  ".list_box {height: 90%;\n  width: 100%;\n}\n.row {\n  width: 100%;\n  clear: both;\n    \n  border-bottom: solid;\n  border-width:  1px;\n  border-color: #1c1c1c;\n}\n.row div {\n  height: 100%;\n}\n.row .title {\n  font-size: 300%;\n  text-align: left;\n  width:      25%;\n  font-weight: bold;\n  \n  padding-left: 10px;\n}\n.row .message {\n  text-align: right;\n  font-size:  0.9em;\n  color:      #999;\n}"
  script: 'var widget = this.widget;\n\nvar render_list = function( data ){\n  var d3_widget = d3.select( widget[0] );\n  var list      = d3_widget.select( ".list_box");\n  var row_height = Math.floor( 100 / data.items.length );\n\n  list.selectAll( "tr" ).remove()\n\n  var rows = list.selectAll("tr")\n    .data(data.items)\n    .enter().append("tr")\n    .attr( "height", row_height+"%" )\n    .attr( "class", "row" )\n    .style( "border-bottom-style", function( d, i ){\n      if( i == data.items.length -1 ){\n        return "none";\n      }\n      return "solid";\n    });\n\n  rows.append( "td" )\n    .attr( "class", "title" )\n    .style( "color", function( d ) {\n        if ( d.title.color ){\n        return d.title.color;\n      }\n      return "#AAA";\n    })\n    .text( function( d ){\n      return d.title.text;\n    });\n\n  rows.append( "td" )\n  .attr( "class", "message" )\n  .text( function( d ){\n    return d.message.text;\n  });\n\n};\n\n// This runs when the widget is loaded\nthis.on("load", function(data){\n});\n// This runs when the widget receives a transmission\nthis.on("transmission", function(data){\n  render_list( data );\n});\n'
  json: '{"items": [\n    {\n      "title": {\n        "text": 2\n      },\n      "message": {\n        "text": "Features released"\n      }\n    },\n    {\n      "title": {\n        "text": 4,\n        "color": "#77AB13"\n      },\n      "message": {\n        "text": "Issues solved so far today"\n      }\n    },\n    {\n      "title": {\n        "text": 1,\n        "color": "#B5712E"\n      },\n      "message": {\n        "text": "Issues currently being investigated"\n      }\n    },\n    {\n      "title": {\n        "text": 3,\n        "color": "#AE432E"\n      },\n      "message": {\n        "text": "Issues on the backlog"\n      }\n    }\n  ]\n}'
  snapshotUrl: "/images/widgetTemplates/numberList.png"
